---
layout: default
title: Writings
---

<div id="writings">
  <h1>Writings</h1>
  <hr />

  <div class="search-section">
    <div class="search" id="js-writings-search">
      <input type="text" placeholder="Search my writings..." class="search__input form-control" id="js-writings-search__input">
      <ul class="search__results" id="js-writings-search__results"></ul>
    </div>
  </div>

  <ul class="posts">
    {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
    {% for post in sorted_posts %}
      <li><i><span>{{ post.date | date_to_string }}</span></i> &raquo; <a href="{{ post.url | relative_url }}">{{ post.title }}</a></li>
    {% endfor %}
  </ul>
</div><!-- end #writings -->

<style>
.search-section {
  margin-bottom: 2em;
}
.search-section .search {
  position: relative;
  width: 100%;
  max-width: 500px;
}
.search-section .search__input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
}
.search-section .search__results {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border: 1px solid #ddd;
  border-top: none;
  border-radius: 0 0 4px 4px;
  max-height: 300px;
  overflow-y: auto;
  z-index: 1000;
  display: none;
}
.search-section .search__results.active {
  display: block;
}
.search-section .search__results li {
  padding: 10px;
  border-bottom: 1px solid #eee;
}
.search-section .search__results li:last-child {
  border-bottom: none;
}
.search-section .search__results a {
  color: #333;
  text-decoration: none;
}
.search-section .search__results a:hover {
  color: #000;
  text-decoration: underline;
}
.posts {
  list-style-type: none;
  padding-left: 0;
}
.posts li {
  margin-bottom: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
}
.posts li:last-child {
  border-bottom: none;
}
.posts span {
  color: #666;
  font-size: 0.9em;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('js-writings-search__input');
  const searchResults = document.getElementById('js-writings-search__results');
  
  // Get all posts from the page
  const postsList = document.querySelectorAll('.posts li');
  const postsData = Array.from(postsList).map(item => {
    const link = item.querySelector('a');
    const dateSpan = item.querySelector('span');
    return {
      title: link.textContent,
      url: link.getAttribute('href'),
      date: dateSpan ? dateSpan.textContent : '',
      excerpt: '' // We don't have excerpts in the list view
    };
  });

  searchInput.addEventListener('input', function() {
    const query = this.value.toLowerCase();
    if (query.length < 2) {
      searchResults.innerHTML = '';
      searchResults.classList.remove('active');
      return;
    }

    const matches = postsData.filter(post => 
      post.title.toLowerCase().includes(query)
    );

    if (matches.length > 0) {
      searchResults.innerHTML = matches.map(post => `
        <li>
          <a href="${post.url}">
            <strong>${post.title}</strong>
            <br>
            <small>${post.date}</small>
          </a>
        </li>
      `).join('');
      searchResults.classList.add('active');
    } else {
      searchResults.innerHTML = '<li>No matches found</li>';
      searchResults.classList.add('active');
    }
  });

  // Close search results when clicking outside
  document.addEventListener('click', function(e) {
    if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
      searchResults.classList.remove('active');
    }
  });
});
</script> 